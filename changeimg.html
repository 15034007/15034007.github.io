<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>图像变换</title>
    <script type="text/javascript">
    function setTitle() {
        document.title="Today is"+new Date();
    }
    //显示网页时
    function hello() {
        alert("您好");
    }
    //离开网页时
    function bye() {
        alert("再见");
    }
    //显示网页最后的更新日期
    function updateInfo() {
        document.write("上一次本网页的更新日期：");
        document.write(document.lastModified);
    }
    //显示新的网页内容
    function newWindow() {
        var msg1="这是新的一页";
        var msg2="您好";
        document.open("text/html","replace");
        document.write(msg1+"<br>");
        document.write(msg2);
        document.close();
    }

    function changeImage() {
        var today= new Date();
        var number = today.getDate();
        document.getElementById("myImage").src="images/"+number+".gif";
    }
    function clickButton() {
        document.getElementById("myButton").disabled = true;
    }
    function setCookie(name,value,expires,path,domain,secure) {
        var curCookie = name+"="+escape(value)+((expires)?";expires=" + expires.toGMtString():"")+((path)?";path="+path:"")+((domain)?";domain="+domain:"")+((secure)?";secure":"");
        document.cookie = curCookie;
    }
    //取出cookie
        function getCookie(name) {
            //
            var aCookie = document.cookie.split(";");
            for (var i = 0; i < aCookie.length; i++) {
                var aCrumb = aCookie[i].split("=");
                if (name == aCrumb[0])
                //
                    return unescape(aCrumb[1]);
            }
       return null;
    }
            //删除cookie
            function deleteCookie(name, path, domain) {
                if (getCookie(name)) {
                    document.cookie = name + "=" + ((path) ? ";path=" + path : "") + ((domain) ? ";domain=" + domain : "") + ", expires=Thu, 01-Jan-70 00:00:01 GMT";
                }
            }

            //当前日期
            var now = new Date();
            //设置cookie一年后过期
            now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000)

            //取出名字为“counter”的cookie值
            var visits = getCookie("counter");
            //如果cookie值没有找到，说明用户是第一次访问该网页
            if (!visits) {
                visits = 1;
                document.write("这是您第一次访问这里");
            } else {
                visits = parseInt(visits) + 1;
                document.write("这是您第" + visits + "访问这里")
            }
        setCookie("counter",visits,now);
    </script>
</head>
<body onload="setTitle();hello();changeImage()" onunload="bye()">
<img src="MyCat.jpg" id="myImage">
<h1 id="myTitle">
    文档对象示例
</h1>
<p>
    <a href="action.html">其他示例</a>
    <input type="button" id="myButton" name="buttonName" value="单击一下" onclick="clickButton()">
</p>
<div>
    <a href="javascript:newWindow()">这是新的一页</a>
</div>
<div>
    <input type="button" onclick="getCookie()" value="">
</div>
    <script type="text/javascript">
        updateInfo();
    </script>
</body>
</html>